{"ast":null,"code":"import { makeAutoObservable, reaction } from \"mobx\";\n\nclass CommonStore {\n  constructor() {\n    this.token = window.localStorage.getItem(\"jwt\");\n    this.appLoaded = false;\n\n    this.setToken = token => {\n      this.token = token;\n    };\n\n    this.setAppLoaded = () => {\n      this.appLoaded = true;\n    };\n\n    makeAutoObservable(this);\n    reaction(() => this.token, token => {\n      if (token) {\n        window.localStorage.setItem(\"jwt\", token);\n      } else {\n        window.localStorage.removeItem(\"jwt\");\n      }\n    });\n  }\n\n}\n\nexport default CommonStore;","map":{"version":3,"names":["makeAutoObservable","reaction","CommonStore","constructor","token","window","localStorage","getItem","appLoaded","setToken","setAppLoaded","setItem","removeItem"],"sources":["S:/Cognizant-Training/FSE1/Project-demo/Tweet-App-Comp3/Tweet-App-Comp3/frontend/tweet-app/src/app/stores/commonStore.ts"],"sourcesContent":["import { makeAutoObservable, reaction } from \"mobx\";\r\n\r\nclass CommonStore {\r\n\ttoken: string | null = window.localStorage.getItem(\"jwt\");\r\n\tappLoaded = false;\r\n\r\n\tconstructor() {\r\n\t\tmakeAutoObservable(this);\r\n\r\n\t\treaction(\r\n\t\t\t() => this.token,\r\n\t\t\t(token) => {\r\n\t\t\t\tif (token) {\r\n\t\t\t\t\twindow.localStorage.setItem(\"jwt\", token);\r\n\t\t\t\t} else {\r\n\t\t\t\t\twindow.localStorage.removeItem(\"jwt\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t);\r\n\t}\r\n\r\n\tsetToken = (token: string | null) => {\r\n\t\tthis.token = token;\r\n\t};\r\n\r\n\tsetAppLoaded = () => {\r\n\t\tthis.appLoaded = true;\r\n\t};\r\n}\r\n\r\nexport default CommonStore;\r\n"],"mappings":"AAAA,SAASA,kBAAT,EAA6BC,QAA7B,QAA6C,MAA7C;;AAEA,MAAMC,WAAN,CAAkB;EAIjBC,WAAW,GAAG;IAAA,KAHdC,KAGc,GAHSC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,KAA5B,CAGT;IAAA,KAFdC,SAEc,GAFF,KAEE;;IAAA,KAedC,QAfc,GAeFL,KAAD,IAA0B;MACpC,KAAKA,KAAL,GAAaA,KAAb;IACA,CAjBa;;IAAA,KAmBdM,YAnBc,GAmBC,MAAM;MACpB,KAAKF,SAAL,GAAiB,IAAjB;IACA,CArBa;;IACbR,kBAAkB,CAAC,IAAD,CAAlB;IAEAC,QAAQ,CACP,MAAM,KAAKG,KADJ,EAENA,KAAD,IAAW;MACV,IAAIA,KAAJ,EAAW;QACVC,MAAM,CAACC,YAAP,CAAoBK,OAApB,CAA4B,KAA5B,EAAmCP,KAAnC;MACA,CAFD,MAEO;QACNC,MAAM,CAACC,YAAP,CAAoBM,UAApB,CAA+B,KAA/B;MACA;IACD,CARM,CAAR;EAUA;;AAjBgB;;AA4BlB,eAAeV,WAAf"},"metadata":{},"sourceType":"module"}