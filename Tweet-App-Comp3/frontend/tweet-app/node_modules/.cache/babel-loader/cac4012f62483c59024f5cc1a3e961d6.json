{"ast":null,"code":"var _jsxFileName = \"S:\\\\Cognizant-Training\\\\FSE1\\\\Project-demo\\\\Tweet-App-Comp3\\\\Tweet-App-Comp3\\\\frontend\\\\tweet-app\\\\src\\\\features\\\\users\\\\profile\\\\ProfilePhotos.tsx\",\n    _s = $RefreshSig$();\n\nimport { observer } from \"mobx-react-lite\";\nimport { useState } from \"react\";\nimport { Button, Card, Grid, Header, Image, Tab } from \"semantic-ui-react\";\nimport PhotoUploadWidget from \"../../../app/common/imageUpload/PhotoUploadWidget\";\nimport { useStore } from \"../../../app/stores/store\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ProfilePhotos = _ref => {\n  _s();\n\n  let {\n    profile\n  } = _ref;\n  const {\n    profileStore: {\n      isCurrentUser,\n      uploadPhoto,\n      uploading,\n      loading,\n      setMainPhoto,\n      deletePhoto\n    }\n  } = useStore();\n  const [addPhotoMode, setAddPhotoMode] = useState(false);\n  const [target, setTarget] = useState(\"\");\n\n  const handlePhotoUpload = file => {\n    uploadPhoto(file).then(() => setAddPhotoMode(false));\n  };\n\n  const handleSetMainPhoto = (photo, e) => {\n    setTarget(e.currentTarget.name);\n    setMainPhoto(photo);\n  };\n\n  const handleDeletePhoto = (photo, e) => {\n    setTarget(e.currentTarget.name);\n    deletePhoto(photo);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Tab.Pane, {\n    children: /*#__PURE__*/_jsxDEV(Grid, {\n      children: [/*#__PURE__*/_jsxDEV(Grid.Column, {\n        width: 16,\n        children: [/*#__PURE__*/_jsxDEV(Header, {\n          icon: \"image\",\n          floated: \"left\",\n          content: \"Photos\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 6\n        }, this), isCurrentUser && /*#__PURE__*/_jsxDEV(Button, {\n          floated: \"right\",\n          basic: true,\n          content: addPhotoMode ? \"Cancel\" : \"Add Photo\",\n          onClick: () => setAddPhotoMode(!addPhotoMode)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Grid.Column, {\n        width: 16,\n        children: addPhotoMode ? /*#__PURE__*/_jsxDEV(PhotoUploadWidget, {\n          uploadPhoto: handlePhotoUpload,\n          loading: uploading\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 7\n        }, this) : /*#__PURE__*/_jsxDEV(Card.Group, {\n          itemsPerRow: 5,\n          children: profile.photos && profile.photos.map(photo => {\n            return /*#__PURE__*/_jsxDEV(Card, {\n              children: [/*#__PURE__*/_jsxDEV(Image, {\n                src: photo.url\n              }, photo.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 71,\n                columnNumber: 12\n              }, this), isCurrentUser && /*#__PURE__*/_jsxDEV(Button.Group, {\n                fluid: true,\n                widths: 2,\n                children: [/*#__PURE__*/_jsxDEV(Button, {\n                  basic: true,\n                  color: \"green\",\n                  content: \"Main\",\n                  name: \"main\" + photo.id,\n                  loading: target === \"main\" + photo.id.toString() && loading //disabled={photo.isMain}\n                  ,\n                  onClick: e => handleSetMainPhoto(photo, e)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 74,\n                  columnNumber: 14\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  basic: true,\n                  color: \"red\",\n                  icon: \"trash\",\n                  loading: target === photo.id.toString() && loading,\n                  onClick: e => handleDeletePhoto(photo, e) //disabled={photo.isMain}\n                  ,\n                  name: photo.id\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 85,\n                  columnNumber: 14\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 73,\n                columnNumber: 13\n              }, this)]\n            }, photo.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 11\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 3\n  }, this);\n};\n\n_s(ProfilePhotos, \"oPtocurFoB4Z4gDOA8QM/WyhuVc=\", false, function () {\n  return [useStore];\n});\n\n_c = ProfilePhotos;\nexport default _c2 = observer(ProfilePhotos);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"ProfilePhotos\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"names":["observer","useState","Button","Card","Grid","Header","Image","Tab","PhotoUploadWidget","useStore","ProfilePhotos","profile","profileStore","isCurrentUser","uploadPhoto","uploading","loading","setMainPhoto","deletePhoto","addPhotoMode","setAddPhotoMode","target","setTarget","handlePhotoUpload","file","then","handleSetMainPhoto","photo","e","currentTarget","name","handleDeletePhoto","photos","map","url","id","toString"],"sources":["S:/Cognizant-Training/FSE1/Project-demo/Tweet-App-Comp3/Tweet-App-Comp3/frontend/tweet-app/src/features/users/profile/ProfilePhotos.tsx"],"sourcesContent":["import { observer } from \"mobx-react-lite\";\r\nimport { SyntheticEvent, useState } from \"react\";\r\nimport { Button, Card, Grid, Header, Image, Tab } from \"semantic-ui-react\";\r\nimport PhotoUploadWidget from \"../../../app/common/imageUpload/PhotoUploadWidget\";\r\nimport { Photo, User } from \"../../../app/models/User\";\r\nimport { useStore } from \"../../../app/stores/store\";\r\ninterface Props {\r\n\tprofile: User;\r\n}\r\n\r\nconst ProfilePhotos = ({ profile }: Props) => {\r\n\tconst {\r\n\t\tprofileStore: {\r\n\t\t\tisCurrentUser,\r\n\t\t\tuploadPhoto,\r\n\t\t\tuploading,\r\n\t\t\tloading,\r\n\t\t\tsetMainPhoto,\r\n\t\t\tdeletePhoto,\r\n\t\t},\r\n\t} = useStore();\r\n\r\n\tconst [addPhotoMode, setAddPhotoMode] = useState(false);\r\n\r\n\tconst [target, setTarget] = useState(\"\");\r\n\tconst handlePhotoUpload = (file: Blob) => {\r\n\t\tuploadPhoto(file).then(() => setAddPhotoMode(false));\r\n\t};\r\n\r\n\tconst handleSetMainPhoto = (\r\n\t\tphoto: Photo,\r\n\t\te: SyntheticEvent<HTMLButtonElement>\r\n\t) => {\r\n\t\tsetTarget(e.currentTarget.name);\r\n\t\tsetMainPhoto(photo);\r\n\t};\r\n\r\n\tconst handleDeletePhoto = (\r\n\t\tphoto: Photo,\r\n\t\te: SyntheticEvent<HTMLButtonElement>\r\n\t) => {\r\n\t\tsetTarget(e.currentTarget.name);\r\n\t\tdeletePhoto(photo);\r\n\t};\r\n\treturn (\r\n\t\t<Tab.Pane>\r\n\t\t\t<Grid>\r\n\t\t\t\t<Grid.Column width={16}>\r\n\t\t\t\t\t<Header icon=\"image\" floated=\"left\" content=\"Photos\" />\r\n\t\t\t\t\t{isCurrentUser && (\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tfloated=\"right\"\r\n\t\t\t\t\t\t\tbasic\r\n\t\t\t\t\t\t\tcontent={addPhotoMode ? \"Cancel\" : \"Add Photo\"}\r\n\t\t\t\t\t\t\tonClick={() => setAddPhotoMode(!addPhotoMode)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Grid.Column>\r\n\t\t\t\t<Grid.Column width={16}>\r\n\t\t\t\t\t{addPhotoMode ? (\r\n\t\t\t\t\t\t<PhotoUploadWidget\r\n\t\t\t\t\t\t\tuploadPhoto={handlePhotoUpload}\r\n\t\t\t\t\t\t\tloading={uploading}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<Card.Group itemsPerRow={5}>\r\n\t\t\t\t\t\t\t{profile.photos &&\r\n\t\t\t\t\t\t\t\tprofile.photos.map((photo) => {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<Card key={photo.id}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Image key={photo.id} src={photo.url} />\r\n\t\t\t\t\t\t\t\t\t\t\t{isCurrentUser && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Button.Group fluid widths={2}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbasic\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"green\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontent=\"Main\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={\"main\" + photo.id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tloading={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttarget === \"main\" + photo.id.toString() && loading\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t//disabled={photo.isMain}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={(e) => handleSetMainPhoto(photo, e)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbasic\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"red\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ticon=\"trash\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tloading={target === photo.id.toString() && loading}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={(e) => handleDeletePhoto(photo, e)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t//disabled={photo.isMain}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={photo.id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Button.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</Card.Group>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Grid.Column>\r\n\t\t\t</Grid>\r\n\t\t</Tab.Pane>\r\n\t);\r\n};\r\n\r\nexport default observer(ProfilePhotos);\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}